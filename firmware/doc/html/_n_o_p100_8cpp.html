<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NOP100: NOP100.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">NOP100
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">NOP100.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Extensible firmware based on the NMEA2000 library.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &lt;EEPROM.h&gt;</code><br />
<code>#include &lt;NMEA2000_CAN.h&gt;</code><br />
<code>#include &lt;Button.h&gt;</code><br />
<code>#include &lt;N2kTypes.h&gt;</code><br />
<code>#include &lt;N2kMessages.h&gt;</code><br />
<code>#include &lt;IC74HC165.h&gt;</code><br />
<code>#include &lt;IC74HC595.h&gt;</code><br />
<code>#include &lt;StatusLeds.h&gt;</code><br />
<code>#include &lt;ModuleConfiguration.h&gt;</code><br />
<code>#include &lt;arraymacros.h&gt;</code><br />
<code>#include &quot;<a class="el" href="includes_8h_source.html">includes.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="defines_8h_source.html">defines.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="definitions_8h_source.html">definitions.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="setup_8h_source.html">setup.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="loop_8h_source.html">loop.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_n_m_e_a2000_handler.html">tNMEA2000Handler</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and initialise a vector of received PGNs and their handlers.  <a href="structt_n_m_e_a2000_handler.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aadc73ce1238fc67a3a2cc164948865cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#aadc73ce1238fc67a3a2cc164948865cf">DEVICE_CLASS</a>&#160;&#160;&#160;10</td></tr>
<tr class="memdesc:aadc73ce1238fc67a3a2cc164948865cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device information required by the NMEA2000 library.  <br /></td></tr>
<tr class="separator:aadc73ce1238fc67a3a2cc164948865cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7eadac53dc7f73ac681a78eac7ba8d6"><td class="memItemLeft" align="right" valign="top"><a id="ad7eadac53dc7f73ac681a78eac7ba8d6" name="ad7eadac53dc7f73ac681a78eac7ba8d6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEVICE_FUNCTION</b>&#160;&#160;&#160;130</td></tr>
<tr class="separator:ad7eadac53dc7f73ac681a78eac7ba8d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac890251acd5501023db223d638159234"><td class="memItemLeft" align="right" valign="top"><a id="ac890251acd5501023db223d638159234" name="ac890251acd5501023db223d638159234"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEVICE_INDUSTRY_GROUP</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:ac890251acd5501023db223d638159234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17060fcfcecd4520ef7d076861ce0fe7"><td class="memItemLeft" align="right" valign="top"><a id="a17060fcfcecd4520ef7d076861ce0fe7" name="a17060fcfcecd4520ef7d076861ce0fe7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEVICE_MANUFACTURER_CODE</b>&#160;&#160;&#160;2046</td></tr>
<tr class="separator:a17060fcfcecd4520ef7d076861ce0fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4570cec33ad44538a527192b58f45f8a"><td class="memItemLeft" align="right" valign="top"><a id="a4570cec33ad44538a527192b58f45f8a" name="a4570cec33ad44538a527192b58f45f8a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEVICE_UNIQUE_NUMBER</b>&#160;&#160;&#160;849</td></tr>
<tr class="separator:a4570cec33ad44538a527192b58f45f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa75a88d1e91c29796cc77bfe8308e7a2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#aa75a88d1e91c29796cc77bfe8308e7a2">PRODUCT_CERTIFICATION_LEVEL</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:aa75a88d1e91c29796cc77bfe8308e7a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Product information required by the NMEA2000 library.  <br /></td></tr>
<tr class="separator:aa75a88d1e91c29796cc77bfe8308e7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02442fb31791d03ca20c9a8223ea6756"><td class="memItemLeft" align="right" valign="top"><a id="a02442fb31791d03ca20c9a8223ea6756" name="a02442fb31791d03ca20c9a8223ea6756"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PRODUCT_CODE</b>&#160;&#160;&#160;002</td></tr>
<tr class="separator:a02442fb31791d03ca20c9a8223ea6756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab562d921057b48e2a5e6406d87180647"><td class="memItemLeft" align="right" valign="top"><a id="ab562d921057b48e2a5e6406d87180647" name="ab562d921057b48e2a5e6406d87180647"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PRODUCT_FIRMWARE_VERSION</b>&#160;&#160;&#160;&quot;1.1.0 (Jun 2022)&quot;</td></tr>
<tr class="separator:ab562d921057b48e2a5e6406d87180647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e596d69c7d684276fcd1b37a47702a"><td class="memItemLeft" align="right" valign="top"><a id="a65e596d69c7d684276fcd1b37a47702a" name="a65e596d69c7d684276fcd1b37a47702a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PRODUCT_LEN</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a65e596d69c7d684276fcd1b37a47702a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f0d355dc429a406e253d1fecaf3595"><td class="memItemLeft" align="right" valign="top"><a id="a11f0d355dc429a406e253d1fecaf3595" name="a11f0d355dc429a406e253d1fecaf3595"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PRODUCT_N2K_VERSION</b>&#160;&#160;&#160;2100</td></tr>
<tr class="separator:a11f0d355dc429a406e253d1fecaf3595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f6819d6d6c6004b84704e8d96beebe8"><td class="memItemLeft" align="right" valign="top"><a id="a6f6819d6d6c6004b84704e8d96beebe8" name="a6f6819d6d6c6004b84704e8d96beebe8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PRODUCT_SERIAL_CODE</b>&#160;&#160;&#160;&quot;002-849&quot;</td></tr>
<tr class="separator:a6f6819d6d6c6004b84704e8d96beebe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c79a61a6cd44230389e89073efe459"><td class="memItemLeft" align="right" valign="top"><a id="a58c79a61a6cd44230389e89073efe459" name="a58c79a61a6cd44230389e89073efe459"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PRODUCT_TYPE</b>&#160;&#160;&#160;&quot;SIM108&quot;</td></tr>
<tr class="separator:a58c79a61a6cd44230389e89073efe459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ba1a85361118228096108c7d425f84b"><td class="memItemLeft" align="right" valign="top"><a id="a0ba1a85361118228096108c7d425f84b" name="a0ba1a85361118228096108c7d425f84b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>PRODUCT_VERSION</b>&#160;&#160;&#160;&quot;1.0 (Mar 2022)&quot;</td></tr>
<tr class="separator:a0ba1a85361118228096108c7d425f84b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce203f2f25535583935a0804385a957"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#a0ce203f2f25535583935a0804385a957">NMEA_TRANSMIT_MESSAGE_PGNS</a>&#160;&#160;&#160;{ 0L }</td></tr>
<tr class="memdesc:a0ce203f2f25535583935a0804385a957"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zero terminated list of PGNs transmitted by this firmware (required by the NMEA2000 library).  <br /></td></tr>
<tr class="separator:a0ce203f2f25535583935a0804385a957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4001bc46f082dd185d39e649fd250681"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#a4001bc46f082dd185d39e649fd250681">NMEA_PGN_HANDLERS</a>&#160;&#160;&#160;{ { 0L, 0 } }</td></tr>
<tr class="memdesc:a4001bc46f082dd185d39e649fd250681"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of PGNs handled by this application and the callback functions that process them (required by the NMEA2000 library).  <br /></td></tr>
<tr class="separator:a4001bc46f082dd185d39e649fd250681"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61e127df60d55ea4c8bd6b8ec1f88367"><td class="memItemLeft" align="right" valign="top"><a id="a61e127df60d55ea4c8bd6b8ec1f88367" name="a61e127df60d55ea4c8bd6b8ec1f88367"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DEBUG_SERIAL</b></td></tr>
<tr class="memdesc:a61e127df60d55ea4c8bd6b8ec1f88367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable process messaging on the Arduino serial output. <br /></td></tr>
<tr class="separator:a61e127df60d55ea4c8bd6b8ec1f88367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d20822d434e0e2ed12772d2b3d5a8b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#a07d20822d434e0e2ed12772d2b3d5a8b">DEBUG_SERIAL_START_DELAY</a>&#160;&#160;&#160;4000</td></tr>
<tr class="memdesc:a07d20822d434e0e2ed12772d2b3d5a8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delay start of firmware execution after boot.  <br /></td></tr>
<tr class="separator:a07d20822d434e0e2ed12772d2b3d5a8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ffe83c68f45bb5f4d7d018e2e1fb6f8"><td class="memItemLeft" align="right" valign="top"><a id="a9ffe83c68f45bb5f4d7d018e2e1fb6f8" name="a9ffe83c68f45bb5f4d7d018e2e1fb6f8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>MODULE_CONFIGURATION_EEPROM_ADDRESS</b>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a9ffe83c68f45bb5f4d7d018e2e1fb6f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">EEPROM address at which to persist module configuration data. <br /></td></tr>
<tr class="separator:a9ffe83c68f45bb5f4d7d018e2e1fb6f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d37ee81e61bfac635e1ba674d0abfff"><td class="memItemLeft" align="right" valign="top"><a id="a9d37ee81e61bfac635e1ba674d0abfff" name="a9d37ee81e61bfac635e1ba674d0abfff"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_SIPO_DATA</b>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a9d37ee81e61bfac635e1ba674d0abfff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Microcontroller pin definitions for the Teensy 3.2/4.0. <br /></td></tr>
<tr class="separator:a9d37ee81e61bfac635e1ba674d0abfff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ae84f6e3ed9ab286bbe84d26f7385e8"><td class="memItemLeft" align="right" valign="top"><a id="a6ae84f6e3ed9ab286bbe84d26f7385e8" name="a6ae84f6e3ed9ab286bbe84d26f7385e8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_SIPO_LATCH</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a6ae84f6e3ed9ab286bbe84d26f7385e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6c9275d7eaced9c28ad52c986553589"><td class="memItemLeft" align="right" valign="top"><a id="ac6c9275d7eaced9c28ad52c986553589" name="ac6c9275d7eaced9c28ad52c986553589"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_SIPO_CLOCK</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ac6c9275d7eaced9c28ad52c986553589"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07450b17296a75232a7744a4503913f7"><td class="memItemLeft" align="right" valign="top"><a id="a07450b17296a75232a7744a4503913f7" name="a07450b17296a75232a7744a4503913f7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_CAN_TX</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a07450b17296a75232a7744a4503913f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27d131628b244c715a06cd20476c4b60"><td class="memItemLeft" align="right" valign="top"><a id="a27d131628b244c715a06cd20476c4b60" name="a27d131628b244c715a06cd20476c4b60"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_CAN_RX</b>&#160;&#160;&#160;4</td></tr>
<tr class="separator:a27d131628b244c715a06cd20476c4b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dd18400ebac68e0d985f00bf8e3cb93"><td class="memItemLeft" align="right" valign="top"><a id="a6dd18400ebac68e0d985f00bf8e3cb93" name="a6dd18400ebac68e0d985f00bf8e3cb93"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D5</b>&#160;&#160;&#160;5</td></tr>
<tr class="separator:a6dd18400ebac68e0d985f00bf8e3cb93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69d6ec684f6ad05bd964b0d7b1a54707"><td class="memItemLeft" align="right" valign="top"><a id="a69d6ec684f6ad05bd964b0d7b1a54707" name="a69d6ec684f6ad05bd964b0d7b1a54707"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D6</b>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a69d6ec684f6ad05bd964b0d7b1a54707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a942795d401dde363d3b5a581a807cdaa"><td class="memItemLeft" align="right" valign="top"><a id="a942795d401dde363d3b5a581a807cdaa" name="a942795d401dde363d3b5a581a807cdaa"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D7</b>&#160;&#160;&#160;7</td></tr>
<tr class="separator:a942795d401dde363d3b5a581a807cdaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31147a262741d024c5dd2b3d739c8194"><td class="memItemLeft" align="right" valign="top"><a id="a31147a262741d024c5dd2b3d739c8194" name="a31147a262741d024c5dd2b3d739c8194"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D8</b>&#160;&#160;&#160;8</td></tr>
<tr class="separator:a31147a262741d024c5dd2b3d739c8194"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6223f3a09543b1d7343f9ee7c9bf204c"><td class="memItemLeft" align="right" valign="top"><a id="a6223f3a09543b1d7343f9ee7c9bf204c" name="a6223f3a09543b1d7343f9ee7c9bf204c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D9</b>&#160;&#160;&#160;9</td></tr>
<tr class="separator:a6223f3a09543b1d7343f9ee7c9bf204c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af707aed4daeeca4df7bf94a8896c6f"><td class="memItemLeft" align="right" valign="top"><a id="a6af707aed4daeeca4df7bf94a8896c6f" name="a6af707aed4daeeca4df7bf94a8896c6f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_PISO_DATA</b>&#160;&#160;&#160;10</td></tr>
<tr class="separator:a6af707aed4daeeca4df7bf94a8896c6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad99638ad0f29751e8eba2c603a5f7e8b"><td class="memItemLeft" align="right" valign="top"><a id="ad99638ad0f29751e8eba2c603a5f7e8b" name="ad99638ad0f29751e8eba2c603a5f7e8b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_PISO_LATCH</b>&#160;&#160;&#160;11</td></tr>
<tr class="separator:ad99638ad0f29751e8eba2c603a5f7e8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86825ce1c566fce2a861a2d1b8a7b4d6"><td class="memItemLeft" align="right" valign="top"><a id="a86825ce1c566fce2a861a2d1b8a7b4d6" name="a86825ce1c566fce2a861a2d1b8a7b4d6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_PISO_CLOCK</b>&#160;&#160;&#160;12</td></tr>
<tr class="separator:a86825ce1c566fce2a861a2d1b8a7b4d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59beda4b1045a9b375e597d3bc8bf77f"><td class="memItemLeft" align="right" valign="top"><a id="a59beda4b1045a9b375e597d3bc8bf77f" name="a59beda4b1045a9b375e597d3bc8bf77f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_POWER_LED</b>&#160;&#160;&#160;13</td></tr>
<tr class="separator:a59beda4b1045a9b375e597d3bc8bf77f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a776baf9341bdc24e6a406ce688ae4565"><td class="memItemLeft" align="right" valign="top"><a id="a776baf9341bdc24e6a406ce688ae4565" name="a776baf9341bdc24e6a406ce688ae4565"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_PRG</b>&#160;&#160;&#160;14</td></tr>
<tr class="separator:a776baf9341bdc24e6a406ce688ae4565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ebe8905573b5de2a12e1b00e7cde8af"><td class="memItemLeft" align="right" valign="top"><a id="a8ebe8905573b5de2a12e1b00e7cde8af" name="a8ebe8905573b5de2a12e1b00e7cde8af"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_TRANSMIT_LED</b>&#160;&#160;&#160;15</td></tr>
<tr class="separator:a8ebe8905573b5de2a12e1b00e7cde8af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b17b5b2083869a5e0f482298c32507a"><td class="memItemLeft" align="right" valign="top"><a id="a6b17b5b2083869a5e0f482298c32507a" name="a6b17b5b2083869a5e0f482298c32507a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D16</b>&#160;&#160;&#160;16</td></tr>
<tr class="separator:a6b17b5b2083869a5e0f482298c32507a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ed3b0ad2e87e695b18facfa702e2116"><td class="memItemLeft" align="right" valign="top"><a id="a0ed3b0ad2e87e695b18facfa702e2116" name="a0ed3b0ad2e87e695b18facfa702e2116"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D17</b>&#160;&#160;&#160;17</td></tr>
<tr class="separator:a0ed3b0ad2e87e695b18facfa702e2116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b999322c1c9d53cf53deec4d2d2baef"><td class="memItemLeft" align="right" valign="top"><a id="a9b999322c1c9d53cf53deec4d2d2baef" name="a9b999322c1c9d53cf53deec4d2d2baef"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D18</b>&#160;&#160;&#160;18</td></tr>
<tr class="separator:a9b999322c1c9d53cf53deec4d2d2baef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2dfac80b4de8889714ba1e4ff626240"><td class="memItemLeft" align="right" valign="top"><a id="af2dfac80b4de8889714ba1e4ff626240" name="af2dfac80b4de8889714ba1e4ff626240"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D19</b>&#160;&#160;&#160;19</td></tr>
<tr class="separator:af2dfac80b4de8889714ba1e4ff626240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f95087b3f7d513c8a020f5f657a68d"><td class="memItemLeft" align="right" valign="top"><a id="ac0f95087b3f7d513c8a020f5f657a68d" name="ac0f95087b3f7d513c8a020f5f657a68d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D20</b>&#160;&#160;&#160;20</td></tr>
<tr class="separator:ac0f95087b3f7d513c8a020f5f657a68d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbb6a81544641e0730e29ab1aaf66000"><td class="memItemLeft" align="right" valign="top"><a id="abbb6a81544641e0730e29ab1aaf66000" name="abbb6a81544641e0730e29ab1aaf66000"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D21</b>&#160;&#160;&#160;21</td></tr>
<tr class="separator:abbb6a81544641e0730e29ab1aaf66000"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73f03ed2335c385eb3c3c2784437e39"><td class="memItemLeft" align="right" valign="top"><a id="af73f03ed2335c385eb3c3c2784437e39" name="af73f03ed2335c385eb3c3c2784437e39"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D22</b>&#160;&#160;&#160;22</td></tr>
<tr class="separator:af73f03ed2335c385eb3c3c2784437e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898cee57171138930449939513946570"><td class="memItemLeft" align="right" valign="top"><a id="a898cee57171138930449939513946570" name="a898cee57171138930449939513946570"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>GPIO_D23</b>&#160;&#160;&#160;23</td></tr>
<tr class="separator:a898cee57171138930449939513946570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c58a7e32b6cc7a968ee40a2859ed41"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#a85c58a7e32b6cc7a968ee40a2859ed41">CM_SIZE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:a85c58a7e32b6cc7a968ee40a2859ed41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size of the module configuration array.  <br /></td></tr>
<tr class="separator:a85c58a7e32b6cc7a968ee40a2859ed41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62aff17b6ddefadea23db4e01b6ac6c1"><td class="memItemLeft" align="right" valign="top"><a id="a62aff17b6ddefadea23db4e01b6ac6c1" name="a62aff17b6ddefadea23db4e01b6ac6c1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CM_CAN_SOURCE_INDEX</b>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a62aff17b6ddefadea23db4e01b6ac6c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of named locations in the configuration array. <br /></td></tr>
<tr class="separator:a62aff17b6ddefadea23db4e01b6ac6c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2699d17c6f963c0bd00f252e81082807"><td class="memItemLeft" align="right" valign="top"><a id="a2699d17c6f963c0bd00f252e81082807" name="a2699d17c6f963c0bd00f252e81082807"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CM_CAN_SOURCE_DEFAULT</b>&#160;&#160;&#160;22</td></tr>
<tr class="memdesc:a2699d17c6f963c0bd00f252e81082807"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of default (initialisation) values for each location in the configuration array. <br /></td></tr>
<tr class="separator:a2699d17c6f963c0bd00f252e81082807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf43ea0894679b30b700c627f06fe0f"><td class="memItemLeft" align="right" valign="top"><a id="aecf43ea0894679b30b700c627f06fe0f" name="aecf43ea0894679b30b700c627f06fe0f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CM_LONG_BUTTON_PRESS_INTERVAL</b>&#160;&#160;&#160;1000UL</td></tr>
<tr class="memdesc:aecf43ea0894679b30b700c627f06fe0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of milliseconds that the PRG button must be held closed to constitute a 'long' button press. <br /></td></tr>
<tr class="separator:aecf43ea0894679b30b700c627f06fe0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a965b8ad830303555910a3181c5627eb0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#a965b8ad830303555910a3181c5627eb0">CM_DIALOG_INACTIVITY_TIMEOUT</a>&#160;&#160;&#160;30000UL</td></tr>
<tr class="memdesc:a965b8ad830303555910a3181c5627eb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of milliseconds of inactivity that must elapse within a dialog before the dialog times out.  <br /></td></tr>
<tr class="separator:a965b8ad830303555910a3181c5627eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18d39c76c362fa8df798616d1b4c4402"><td class="memItemLeft" align="right" valign="top"><a id="a18d39c76c362fa8df798616d1b4c4402" name="a18d39c76c362fa8df798616d1b4c4402"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>CM_EXTENDED_OPERATING_MODE_INACTIVITY_TIMEOUT</b>&#160;&#160;&#160;60000UL</td></tr>
<tr class="memdesc:a18d39c76c362fa8df798616d1b4c4402"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of milliseconds of inactivity that must elapse before extended operating mode reverts to normal mode. <br /></td></tr>
<tr class="separator:a18d39c76c362fa8df798616d1b4c4402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98e173ab9e4226bb8767f0d562c02538"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#a98e173ab9e4226bb8767f0d562c02538">SL_TRANSMIT_LED_UPDATE_INTERVAL</a>&#160;&#160;&#160;100UL</td></tr>
<tr class="memdesc:a98e173ab9e4226bb8767f0d562c02538"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of milliseconds between updates of the transmit LED.  <br /></td></tr>
<tr class="separator:a98e173ab9e4226bb8767f0d562c02538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae54c4bd219f0f9b3b4f7449a132f5d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#aae54c4bd219f0f9b3b4f7449a132f5d0">SL_NUMBER_OF_STATUS_LEDS</a>&#160;&#160;&#160;8</td></tr>
<tr class="memdesc:aae54c4bd219f0f9b3b4f7449a132f5d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of status LEDS supported by the firmware.  <br /></td></tr>
<tr class="separator:aae54c4bd219f0f9b3b4f7449a132f5d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7222089e97cca236dce0aa20e0681164"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#a7222089e97cca236dce0aa20e0681164">SL_STATUS_LEDS_UPDATE_INTERVAL</a>&#160;&#160;&#160;100UL</td></tr>
<tr class="memdesc:a7222089e97cca236dce0aa20e0681164"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of milliseconds between updates of the status LEDs.  <br /></td></tr>
<tr class="separator:a7222089e97cca236dce0aa20e0681164"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae306b3353ed3d62bb2e6de130b3c9eaa"><td class="memItemLeft" align="right" valign="top"><a id="ae306b3353ed3d62bb2e6de130b3c9eaa" name="ae306b3353ed3d62bb2e6de130b3c9eaa"></a>enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#ae306b3353ed3d62bb2e6de130b3c9eaa">OperatingMode</a> { <b>normal</b>
, <b>extended</b>
 }</td></tr>
<tr class="memdesc:ae306b3353ed3d62bb2e6de130b3c9eaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable capturing the firmware's current operating mode. <br /></td></tr>
<tr class="separator:ae306b3353ed3d62bb2e6de130b3c9eaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5962b92aab17bf1012a7ac32490bec6e"><td class="memItemLeft" align="right" valign="top"><a id="a5962b92aab17bf1012a7ac32490bec6e" name="a5962b92aab17bf1012a7ac32490bec6e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>messageHandler</b> (const tN2kMsg &amp;)</td></tr>
<tr class="memdesc:a5962b92aab17bf1012a7ac32490bec6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declarations of local functions. <br /></td></tr>
<tr class="separator:a5962b92aab17bf1012a7ac32490bec6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42b81cd3058fce3ebc05bcba7254012"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#ac42b81cd3058fce3ebc05bcba7254012">prgButtonHandler</a> (<a class="el" href="_n_o_p100_8cpp.html#ae306b3353ed3d62bb2e6de130b3c9eaa">OperatingMode</a> mode, bool state, int value)</td></tr>
<tr class="memdesc:ac42b81cd3058fce3ebc05bcba7254012"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a change of state on the PRG button.  <br /></td></tr>
<tr class="separator:ac42b81cd3058fce3ebc05bcba7254012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc44489ea1894eaf99f581794d0e053c"><td class="memItemLeft" align="right" valign="top"><a id="acc44489ea1894eaf99f581794d0e053c" name="acc44489ea1894eaf99f581794d0e053c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>configurationValidator</b> (unsigned int index, unsigned char value)</td></tr>
<tr class="separator:acc44489ea1894eaf99f581794d0e053c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4145d6ad297880c4f03db5c0b514757"><td class="memItemLeft" align="right" valign="top"><a id="af4145d6ad297880c4f03db5c0b514757" name="af4145d6ad297880c4f03db5c0b514757"></a>
unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><b>configurationInitialiser</b> (int &amp;size, unsigned int eepromAddress)</td></tr>
<tr class="separator:af4145d6ad297880c4f03db5c0b514757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a20ffe3a083bd1477373967405cacca"><td class="memItemLeft" align="right" valign="top"><a id="a8a20ffe3a083bd1477373967405cacca" name="a8a20ffe3a083bd1477373967405cacca"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>extendedInteract</b> (unsigned int value, bool longPress)</td></tr>
<tr class="separator:a8a20ffe3a083bd1477373967405cacca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0dc89379a6b714d299f51ec8c8ac459"><td class="memItemLeft" align="right" valign="top"><a id="ae0dc89379a6b714d299f51ec8c8ac459" name="ae0dc89379a6b714d299f51ec8c8ac459"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>cancelExtendedOperatingModeMaybe</b> ()</td></tr>
<tr class="memdesc:ae0dc89379a6b714d299f51ec8c8ac459"><td class="mdescLeft">&#160;</td><td class="mdescRight">Revert operating mode from extended to normal if the PRG button has not been pushed within the inactivity timeout period. <br /></td></tr>
<tr class="separator:ae0dc89379a6b714d299f51ec8c8ac459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ce7b0413a21c7ee361788db1a8c8892"><td class="memItemLeft" align="right" valign="top"><a id="a2ce7b0413a21c7ee361788db1a8c8892" name="a2ce7b0413a21c7ee361788db1a8c8892"></a>
ModuleConfiguration&#160;</td><td class="memItemRight" valign="bottom"><b>MODULE_CONFIGURATION</b> (configurationInitialiser, configurationValidator, <a class="el" href="_n_o_p100_8cpp.html#a9ffe83c68f45bb5f4d7d018e2e1fb6f8">MODULE_CONFIGURATION_EEPROM_ADDRESS</a>)</td></tr>
<tr class="memdesc:a2ce7b0413a21c7ee361788db1a8c8892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a ModuleConfiguration object for managing all module configuration data. <br /></td></tr>
<tr class="separator:a2ce7b0413a21c7ee361788db1a8c8892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eed48247cca1630f154ec81a316dcf9"><td class="memItemLeft" align="right" valign="top"><a id="a1eed48247cca1630f154ec81a316dcf9" name="a1eed48247cca1630f154ec81a316dcf9"></a>
Button&#160;</td><td class="memItemRight" valign="bottom"><b>PRG_BUTTON</b> (GPIO_PRG)</td></tr>
<tr class="memdesc:a1eed48247cca1630f154ec81a316dcf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Button object for debouncing the module's PRG button. <br /></td></tr>
<tr class="separator:a1eed48247cca1630f154ec81a316dcf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaffb3c7b487376d13c9207e1cb63b71"><td class="memItemLeft" align="right" valign="top"><a id="aeaffb3c7b487376d13c9207e1cb63b71" name="aeaffb3c7b487376d13c9207e1cb63b71"></a>
IC74HC165&#160;</td><td class="memItemRight" valign="bottom"><b>DIL_SWITCH</b> (GPIO_PISO_CLOCK, GPIO_PISO_DATA, GPIO_PISO_LATCH)</td></tr>
<tr class="memdesc:aeaffb3c7b487376d13c9207e1cb63b71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface to the IC74HC165 PISO IC that connects the eight DIL switch parallel inputs. <br /></td></tr>
<tr class="separator:aeaffb3c7b487376d13c9207e1cb63b71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab57a835324ca27ea3aa47ea2f6c3c939"><td class="memItemLeft" align="right" valign="top"><a id="ab57a835324ca27ea3aa47ea2f6c3c939" name="ab57a835324ca27ea3aa47ea2f6c3c939"></a>
IC74HC595&#160;</td><td class="memItemRight" valign="bottom"><b>STATUS_LEDS_SIPO</b> (GPIO_SIPO_CLOCK, <a class="el" href="_n_o_p100_8cpp.html#a9d37ee81e61bfac635e1ba674d0abfff">GPIO_SIPO_DATA</a>, GPIO_SIPO_LATCH)</td></tr>
<tr class="memdesc:ab57a835324ca27ea3aa47ea2f6c3c939"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface to the IC74HC595 SIPO IC that operates the eight status LEDs. <br /></td></tr>
<tr class="separator:ab57a835324ca27ea3aa47ea2f6c3c939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717dd9801159e230c23a6f11ac859471"><td class="memItemLeft" align="right" valign="top">StatusLeds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#a717dd9801159e230c23a6f11ac859471">TRANSMIT_LED</a> (1, <a class="el" href="_n_o_p100_8cpp.html#a98e173ab9e4226bb8767f0d562c02538">SL_TRANSMIT_LED_UPDATE_INTERVAL</a>, [](unsigned char status){ digitalWrite(GPIO_TRANSMIT_LED,(status &amp;0x01));})</td></tr>
<tr class="memdesc:a717dd9801159e230c23a6f11ac859471"><td class="mdescLeft">&#160;</td><td class="mdescRight">StatusLed object for operating the transmit LED.  <br /></td></tr>
<tr class="separator:a717dd9801159e230c23a6f11ac859471"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ee1353402f7e1df1e6a63019d10434"><td class="memItemLeft" align="right" valign="top">StatusLeds&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#a72ee1353402f7e1df1e6a63019d10434">STATUS_LEDS</a> (<a class="el" href="_n_o_p100_8cpp.html#aae54c4bd219f0f9b3b4f7449a132f5d0">SL_NUMBER_OF_STATUS_LEDS</a>, <a class="el" href="_n_o_p100_8cpp.html#a7222089e97cca236dce0aa20e0681164">SL_STATUS_LEDS_UPDATE_INTERVAL</a>, [](unsigned char status){ STATUS_LEDS_SIPO.writeByte(status);})</td></tr>
<tr class="memdesc:a72ee1353402f7e1df1e6a63019d10434"><td class="mdescLeft">&#160;</td><td class="mdescRight">StatusLed object for operating the status LEDs.  <br /></td></tr>
<tr class="separator:a72ee1353402f7e1df1e6a63019d10434"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top"><a id="a4fc01d736fe50cf5b977f755b675f11d" name="a4fc01d736fe50cf5b977f755b675f11d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setup</b> ()</td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top"><a id="afe461d27b9c48d5921c00d521181f12f" name="afe461d27b9c48d5921c00d521181f12f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>loop</b> ()</td></tr>
<tr class="separator:afe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d3d6232361dafc2c35f12b02a3d2591"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#a0d3d6232361dafc2c35f12b02a3d2591">toggleOperatingMode</a> ()</td></tr>
<tr class="memdesc:a0d3d6232361dafc2c35f12b02a3d2591"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch operating mode from normal to extended or vice-versa.  <br /></td></tr>
<tr class="separator:a0d3d6232361dafc2c35f12b02a3d2591"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a83c5992fc42ca23c296ed54e9f043d9d"><td class="memItemLeft" align="right" valign="top"><a id="a83c5992fc42ca23c296ed54e9f043d9d" name="a83c5992fc42ca23c296ed54e9f043d9d"></a>
enum <a class="el" href="_n_o_p100_8cpp.html#ae306b3353ed3d62bb2e6de130b3c9eaa">OperatingMode</a>&#160;</td><td class="memItemRight" valign="bottom"><b>OPERATING_MODE</b> = normal</td></tr>
<tr class="separator:a83c5992fc42ca23c296ed54e9f043d9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a54e36714d9ab35490dc8f2e020d4f"><td class="memItemLeft" align="right" valign="top">const unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_o_p100_8cpp.html#a99a54e36714d9ab35490dc8f2e020d4f">TransmitMessages</a> [] = <a class="el" href="_n_o_p100_8cpp.html#a0ce203f2f25535583935a0804385a957">NMEA_TRANSMIT_MESSAGE_PGNS</a></td></tr>
<tr class="memdesc:a99a54e36714d9ab35490dc8f2e020d4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and initialise an array of transmitted PGNs.  <br /></td></tr>
<tr class="separator:a99a54e36714d9ab35490dc8f2e020d4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7776d084efeda8898f0a6bb2688bf9d8"><td class="memItemLeft" align="right" valign="top"><a id="a7776d084efeda8898f0a6bb2688bf9d8" name="a7776d084efeda8898f0a6bb2688bf9d8"></a>
<a class="el" href="structt_n_m_e_a2000_handler.html">tNMEA2000Handler</a>&#160;</td><td class="memItemRight" valign="bottom"><b>NMEA2000Handlers</b> [] = <a class="el" href="_n_o_p100_8cpp.html#a4001bc46f082dd185d39e649fd250681">NMEA_PGN_HANDLERS</a></td></tr>
<tr class="separator:a7776d084efeda8898f0a6bb2688bf9d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17ae031c225d336fcab32ace01c1801b"><td class="memItemLeft" align="right" valign="top"><a id="a17ae031c225d336fcab32ace01c1801b" name="a17ae031c225d336fcab32ace01c1801b"></a>
unsigned long&#160;</td><td class="memItemRight" valign="bottom"><b>PRG_PRESSED_AT</b> = 0UL</td></tr>
<tr class="memdesc:a17ae031c225d336fcab32ace01c1801b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register for remembering the time of the most recent PRG button press. <br /></td></tr>
<tr class="separator:a17ae031c225d336fcab32ace01c1801b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Extensible firmware based on the NMEA2000 library. </p>
<dl class="section author"><dt>Author</dt><dd>Paul Reeve (<a href="#" onclick="location.href='mai'+'lto:'+'pre'+'ev'+'e@p'+'dj'+'r.e'+'u'; return false;">preev<span class="obfuscator">.nosp@m.</span>e@pd<span class="obfuscator">.nosp@m.</span>jr.eu</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-01-15</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2023</dd></dl>
<p>This firmware is targetted at hardware based on the <a href="https://github.com/preeve9534/NOP100">NOP100</a> module design. It implements a functional NMEA 2000 device that performs no real-world task, but which can be easily extended or specialised into a variant that can perform most things required of an NMEA 2000 module.</p>
<p>The firmware implements basic bus connectivity and the normal housekeeping required by NMEA through use of the <a href="https://github.com/ttlappalainen/NMEA2000">NMEA2000</a> library. It also relieves any derived application of much of the hard work associated with module configuration using the switch inputs of the NOP100 hardware. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a965b8ad830303555910a3181c5627eb0" name="a965b8ad830303555910a3181c5627eb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a965b8ad830303555910a3181c5627eb0">&#9670;&#160;</a></span>CM_DIALOG_INACTIVITY_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CM_DIALOG_INACTIVITY_TIMEOUT&#160;&#160;&#160;30000UL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of milliseconds of inactivity that must elapse within a dialog before the dialog times out. </p>

</div>
</div>
<a id="a85c58a7e32b6cc7a968ee40a2859ed41" name="a85c58a7e32b6cc7a968ee40a2859ed41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85c58a7e32b6cc7a968ee40a2859ed41">&#9670;&#160;</a></span>CM_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CM_SIZE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Size of the module configuration array. </p>
<p>A specialization will almost always need to override this definition (in <a class="el" href="definitions_8h.html" title="declarations and definitions of types, variables, functions, etc. that are required for specialisatio...">definitions.h</a>) to suit its own configuration needs. </p>

</div>
</div>
<a id="a07d20822d434e0e2ed12772d2b3d5a8b" name="a07d20822d434e0e2ed12772d2b3d5a8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07d20822d434e0e2ed12772d2b3d5a8b">&#9670;&#160;</a></span>DEBUG_SERIAL_START_DELAY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEBUG_SERIAL_START_DELAY&#160;&#160;&#160;4000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delay start of firmware execution after boot. </p>
<p>When the Teensy reboots it switches its USB port to serial emulation and it can take a few seconds for a connected host computer to recognise the switch. This millisecond delay can be used to prevent loss of early debug output. </p>

</div>
</div>
<a id="aadc73ce1238fc67a3a2cc164948865cf" name="aadc73ce1238fc67a3a2cc164948865cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadc73ce1238fc67a3a2cc164948865cf">&#9670;&#160;</a></span>DEVICE_CLASS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEVICE_CLASS&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Device information required by the NMEA2000 library. </p>
<p>Most specialisations of NOP100 will want to override DEVICE_CLASS, DEVICE_FUNCTION and perhaps DEVICE_UNIQUE_NUMBER.</p>
<p>DEVICE_CLASS and DEVICE_FUNCTION are explained in the document "NMEA 2000 Appendix B.6 Class &amp; Function Codes".</p>
<p>DEVICE_INDUSTRY_GROUP we can be confident about (4 says maritime).</p>
<p>DEVICE_MANUFACTURER_CODE is only allocated to subscribed NMEA members so we grub around and use 2046 which is currently not allocated. <br  />
</p>
<p>DEVICE_UNIQUE_NUMBER is a bit of mystery. </p>

</div>
</div>
<a id="a4001bc46f082dd185d39e649fd250681" name="a4001bc46f082dd185d39e649fd250681"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4001bc46f082dd185d39e649fd250681">&#9670;&#160;</a></span>NMEA_PGN_HANDLERS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NMEA_PGN_HANDLERS&#160;&#160;&#160;{ { 0L, 0 } }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vector of PGNs handled by this application and the callback functions that process them (required by the NMEA2000 library). </p>
<p>Specialisations of NOP100 may need to override this.</p>
<p>Each entry is a pair { <em>pgn</em>, <em>callback</em> }, for example { 127501L, handlerForPgn127501 }, and the list must terminate with the special flag value { 0L, 0 }. </p>

</div>
</div>
<a id="a0ce203f2f25535583935a0804385a957" name="a0ce203f2f25535583935a0804385a957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ce203f2f25535583935a0804385a957">&#9670;&#160;</a></span>NMEA_TRANSMIT_MESSAGE_PGNS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NMEA_TRANSMIT_MESSAGE_PGNS&#160;&#160;&#160;{ 0L }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Zero terminated list of PGNs transmitted by this firmware (required by the NMEA2000 library). </p>
<p>Specialisations of NOP100 will probably need to override this. </p>

</div>
</div>
<a id="aa75a88d1e91c29796cc77bfe8308e7a2" name="aa75a88d1e91c29796cc77bfe8308e7a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa75a88d1e91c29796cc77bfe8308e7a2">&#9670;&#160;</a></span>PRODUCT_CERTIFICATION_LEVEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PRODUCT_CERTIFICATION_LEVEL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Product information required by the NMEA2000 library. </p>
<p>Specialisations of NOP100 will want to override most of these.</p>
<p>PRODUCT_CERTIFICATION_LEVEL is granted by NMEA when a product is officially certified. We won't be.</p>
<p>PRODUCT_CODE is our own unique numerical identifier for this device.</p>
<p>PRODUCT_FIRMWARE_VERSION should probably be generated automatically from semewhere.</p>
<p>PRODUCT_LEN specifies the Load Equivalence Network number for the product which encodes the normal power loading placed on the host NMEA bus. One LEN = 50mA and values are rounded up.</p>
<p>PRODUCT_N2K_VERSION is the version of the N2K specification witht which the firmware complies. </p>

</div>
</div>
<a id="aae54c4bd219f0f9b3b4f7449a132f5d0" name="aae54c4bd219f0f9b3b4f7449a132f5d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae54c4bd219f0f9b3b4f7449a132f5d0">&#9670;&#160;</a></span>SL_NUMBER_OF_STATUS_LEDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SL_NUMBER_OF_STATUS_LEDS&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of status LEDS supported by the firmware. </p>
<p>The NOP100 hardware supports a maximum of 16 LEDs. Most applications will be happy with a maximum of eight. </p>

</div>
</div>
<a id="a7222089e97cca236dce0aa20e0681164" name="a7222089e97cca236dce0aa20e0681164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7222089e97cca236dce0aa20e0681164">&#9670;&#160;</a></span>SL_STATUS_LEDS_UPDATE_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SL_STATUS_LEDS_UPDATE_INTERVAL&#160;&#160;&#160;100UL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of milliseconds between updates of the status LEDs. </p>
<p>This value implicitly sets the ON-period and OFF-period of all status LEDs. </p>

</div>
</div>
<a id="a98e173ab9e4226bb8767f0d562c02538" name="a98e173ab9e4226bb8767f0d562c02538"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e173ab9e4226bb8767f0d562c02538">&#9670;&#160;</a></span>SL_TRANSMIT_LED_UPDATE_INTERVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SL_TRANSMIT_LED_UPDATE_INTERVAL&#160;&#160;&#160;100UL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of milliseconds between updates of the transmit LED. </p>
<p>This value implicitly sets the ON-period and OFF-period of a flashing LED. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac42b81cd3058fce3ebc05bcba7254012" name="ac42b81cd3058fce3ebc05bcba7254012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac42b81cd3058fce3ebc05bcba7254012">&#9670;&#160;</a></span>prgButtonHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long prgButtonHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_n_o_p100_8cpp.html#ae306b3353ed3d62bb2e6de130b3c9eaa">OperatingMode</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle a change of state on the PRG button. </p>
<p>This function is called from loop() each time a state change is detected on the PRG button. A press of the PRG button simply starts a timer whilst a release triggers a callout (see below) which has responsibility for handling the interaction. The timer value allows a determination to made of whether the trigger was a short or long press of PRG.</p>
<p>In normal operating mode the ModuleConfiguration interact() method is called to manage a configuration update protocol. In extended operating mode the extendedInteract() function is called to manage special function protocols.</p>
<p>The return value from either of these callouts is used to set the status of the transmit LED or to switch firmware operating mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>- the current firmware operating mode. </td></tr>
    <tr><td class="paramname">state</td><td>- one of Button::RELEASED or Button::PRESSED depending upon the current state of the PRG button (i.e. the state after the change event). </td></tr>
    <tr><td class="paramname">value</td><td>- the current value of the hardware DIL switch. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- an unsigned long reporting the time in milliseconds at which the function was called. This can be used by the caller to determine if the user has fallen asleep. </dd></dl>

</div>
</div>
<a id="a72ee1353402f7e1df1e6a63019d10434" name="a72ee1353402f7e1df1e6a63019d10434"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72ee1353402f7e1df1e6a63019d10434">&#9670;&#160;</a></span>STATUS_LEDS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusLeds STATUS_LEDS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_n_o_p100_8cpp.html#aae54c4bd219f0f9b3b4f7449a132f5d0">SL_NUMBER_OF_STATUS_LEDS</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n_o_p100_8cpp.html#a7222089e97cca236dce0aa20e0681164">SL_STATUS_LEDS_UPDATE_INTERVAL</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[] (unsigned char status){ STATUS_LEDS_SIPO.writeByte(status);}&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>StatusLed object for operating the status LEDs. </p>
<p>The status LEDs are connected through a SIPO IC, so the lambda callback can operate all eight LEDs in a single operation. </p>

</div>
</div>
<a id="a0d3d6232361dafc2c35f12b02a3d2591" name="a0d3d6232361dafc2c35f12b02a3d2591"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d3d6232361dafc2c35f12b02a3d2591">&#9670;&#160;</a></span>toggleOperatingMode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void toggleOperatingMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Switch operating mode from normal to extended or vice-versa. </p>
<p>The operating mode is indicated by the baseline state of the transmit LED, so as well as flagging the state change we also tweak the LED. </p>

</div>
</div>
<a id="a717dd9801159e230c23a6f11ac859471" name="a717dd9801159e230c23a6f11ac859471"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a717dd9801159e230c23a6f11ac859471">&#9670;&#160;</a></span>TRANSMIT_LED()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StatusLeds TRANSMIT_LED </td>
          <td>(</td>
          <td class="paramtype">1&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n_o_p100_8cpp.html#a98e173ab9e4226bb8767f0d562c02538">SL_TRANSMIT_LED_UPDATE_INTERVAL</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">[] (unsigned char status){ digitalWrite(GPIO_TRANSMIT_LED,(status &amp;0x01));}&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>StatusLed object for operating the transmit LED. </p>
<p>The transmit LED is connected directly to a GPIO pin, so the lambda callback just uses a digital write operation to drive the output. </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a99a54e36714d9ab35490dc8f2e020d4f" name="a99a54e36714d9ab35490dc8f2e020d4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99a54e36714d9ab35490dc8f2e020d4f">&#9670;&#160;</a></span>TransmitMessages</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned long TransmitMessages[] = <a class="el" href="_n_o_p100_8cpp.html#a0ce203f2f25535583935a0804385a957">NMEA_TRANSMIT_MESSAGE_PGNS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create and initialise an array of transmitted PGNs. </p>
<p>Array initialiser is specified in defined.h. Required by NMEA2000 library. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
